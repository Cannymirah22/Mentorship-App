{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\OneDrive\\\\Desktop\\\\STEPuHP\\\\Student_Mentoring_System-main\\\\client\\\\src\\\\components\\\\dashboard\\\\mentorDashboard\\\\dashboardLinks\\\\manageGroups\\\\ManageGroups.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useRef } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { adminAssignMentees, adminGetMentorMentee, adminRemoveMentees, adminSaveGroup } from \"../../../../../actions/admin\";\nimport MentorTile from \"./MentorTile\";\nimport SearchIcon from \"../../../../../assets/icons/SearchIcon\";\nimport AcademicCapIcon from \"../../../../../assets/icons/AcademicCapIcon\";\nimport MentorIcon from \"../../../../../assets/icons/MentorIcon\";\nimport { CSSTransition } from \"react-transition-group\";\nimport ModalOverlay from \"../../../../modal/ModalOverlay\";\nimport AssignModal from \"./manageGroupModals/AssignModal\";\nimport ViewModal from \"./manageGroupModals/ViewModal\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ManageGroups = () => {\n  _s();\n\n  const dispatch = useDispatch(); // accessing global state for fetching the list of mentors and mentees\n\n  const {\n    mentorMenteeDetails: {\n      mentors,\n      students\n    }\n  } = useSelector(state => state.admin); // fetching mentor mentee details\n\n  useEffect(() => {\n    dispatch(adminGetMentorMentee());\n  }, [dispatch]); // state variable to save the group state and send to the backend\n\n  const [group, setGroup] = useState({\n    mentorId: \"\",\n    studentIds: []\n  }); // state variables\n\n  const [assignMentees, setAssignMentees] = useState([]);\n  const [viewMentees, setViewMentees] = useState([]);\n  const [selectedMentor, setSelectedMentor] = useState(undefined); // states for modals\n\n  const [showOverlay, setShowOverlay] = useState(false);\n  const [showAssignModal, setShowAssignModal] = useState(false);\n  const [showViewModal, setShowViewModal] = useState(false); // noderefs for modal\n\n  const overlayRef = useRef(null);\n  const assignModalRef = useRef(null);\n  const viewModalRef = useRef(null); // function to handle assign\n\n  const handleAssign = () => {\n    let newMentees = [];\n    newMentees = students.filter(student => student.mentoredBy === \"\" || student.mentoredBy === undefined);\n    setAssignMentees(newMentees);\n    setShowOverlay(true);\n    setShowAssignModal(true);\n  }; // function to handle view\n\n\n  const handleView = mentorId => {\n    let newMentees = [];\n    newMentees = students.filter(student => student.mentoredBy !== undefined && student.mentoredBy.toString() === mentorId.toString());\n    setViewMentees(newMentees);\n    setShowOverlay(true);\n    setShowViewModal(true);\n  }; // function to handle assign selection\n\n\n  const handleSelection = (mid, sid) => {\n    if (group.studentIds.includes(sid)) {\n      let newGroup = group.studentIds.filter(id => id !== sid.toString());\n      setGroup({\n        mentorId: mid,\n        studentIds: newGroup\n      });\n    } else {\n      setGroup({\n        mentorId: mid,\n        studentIds: [...group.studentIds, sid]\n      });\n    }\n  }; // function to handle save group\n\n\n  const handleAssignMentees = () => {\n    dispatch(adminAssignMentees(group));\n    setShowOverlay(false);\n    setShowAssignModal(false);\n    setGroup({\n      mentorId: \"\",\n      studentIds: []\n    });\n  }; // function to handle save group\n\n\n  const handleRemoveMentees = () => {\n    dispatch(adminRemoveMentees(group));\n    setShowOverlay(false);\n    setShowViewModal(false);\n    setGroup({\n      mentorId: \"\",\n      studentIds: []\n    });\n  };\n\n  console.log(\"mentors in manage group\", mentors);\n  console.log(\"mentees in manage group\", students);\n  console.log(\"group in manage group\", group);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"h-full w-full px-5 py-5 relative\",\n    children: [/*#__PURE__*/_jsxDEV(CSSTransition, {\n      nodeRef: overlayRef,\n      in: showOverlay,\n      timeout: 300,\n      classNames: \"overlay\",\n      unmountOnExit: true,\n      children: /*#__PURE__*/_jsxDEV(ModalOverlay, {\n        nodeRef: overlayRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(CSSTransition, {\n      nodeRef: assignModalRef,\n      in: showAssignModal,\n      timeout: 300,\n      classNames: \"modal\",\n      unmountOnExit: true,\n      children: /*#__PURE__*/_jsxDEV(AssignModal, {\n        nodeRef: assignModalRef,\n        assignMentees: assignMentees,\n        setShowOverlay: setShowOverlay,\n        setShowAssignModal: setShowAssignModal,\n        selectedMentor: selectedMentor,\n        group: group,\n        handleSelection: handleSelection,\n        setGroup: setGroup,\n        handleAssignMentees: handleAssignMentees\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(CSSTransition, {\n      nodeRef: viewModalRef,\n      in: showViewModal,\n      timeout: 300,\n      classNames: \"modal\",\n      unmountOnExit: true,\n      children: /*#__PURE__*/_jsxDEV(ViewModal, {\n        nodeRef: viewModalRef,\n        viewMentees: viewMentees,\n        setShowOverlay: setShowOverlay,\n        setShowViewModal: setShowViewModal,\n        selectedMentor: selectedMentor,\n        group: group,\n        handleSelection: handleSelection,\n        setGroup: setGroup,\n        handleRemoveMentees: handleRemoveMentees\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full p-3 rounded-md h-full\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full mb-10 flex items-end justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-end justify-start gap-x-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n            className: \"flex justify-start items-center p-5 bg-white shadow-sm rounded-md gap-x-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"rounded-full p-3 bg-blue-100\",\n              children: /*#__PURE__*/_jsxDEV(MentorIcon, {\n                alt: true,\n                myStyle: \"h-5 w-5 text-blue-600\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 174,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 173,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-col\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: mentors === null || mentors === void 0 ? void 0 : mentors.length\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 177,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n                className: \"text-gray-500\",\n                children: \"Total Mentors\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 178,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n            className: \"flex justify-start items-center p-5 bg-white shadow-sm rounded-md gap-x-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"rounded-full p-3 bg-orange-100\",\n              children: /*#__PURE__*/_jsxDEV(AcademicCapIcon, {\n                alt: true,\n                myStyle: \"text-orange-500 w-5 h-5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 183,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-col\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: students === null || students === void 0 ? void 0 : students.length\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 186,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n                className: \"text-gray-500\",\n                children: \"Total Mentees\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 187,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-end items-end\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              //onChange={handleSearch}\n              type: \"text\",\n              className: \"pl-11 rounded-md xl:w-96 border-0 shadow-sm\",\n              placeholder: \"Search by department...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"absolute top-2.5 left-3\",\n              children: /*#__PURE__*/_jsxDEV(SearchIcon, {\n                alt: true,\n                myStyle: \"h-5 w-5 mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 200,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"h-4/5 overflow-y-auto pr-2 flex flex-wrap items-start justify-start gap-x-5 gap-y-3\",\n        children: mentors === null || mentors === void 0 ? void 0 : mentors.map(mentor => {\n          return /*#__PURE__*/_jsxDEV(MentorTile, {\n            mentor: mentor,\n            handleAssign: handleAssign,\n            handleView: handleView,\n            setSelectedMentor: setSelectedMentor\n          }, mentor._id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 29\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 121,\n    columnNumber: 9\n  }, this);\n};\n\n_s(ManageGroups, \"1tpPyPK+fOHIsMCtMumDt8wtKSM=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\n_c = ManageGroups;\nexport default ManageGroups;\n\nvar _c;\n\n$RefreshReg$(_c, \"ManageGroups\");","map":{"version":3,"sources":["C:/Users/User/OneDrive/Desktop/STEPuHP/Student_Mentoring_System-main/client/src/components/dashboard/mentorDashboard/dashboardLinks/manageGroups/ManageGroups.js"],"names":["React","useState","useEffect","useRef","useDispatch","useSelector","adminAssignMentees","adminGetMentorMentee","adminRemoveMentees","adminSaveGroup","MentorTile","SearchIcon","AcademicCapIcon","MentorIcon","CSSTransition","ModalOverlay","AssignModal","ViewModal","ManageGroups","dispatch","mentorMenteeDetails","mentors","students","state","admin","group","setGroup","mentorId","studentIds","assignMentees","setAssignMentees","viewMentees","setViewMentees","selectedMentor","setSelectedMentor","undefined","showOverlay","setShowOverlay","showAssignModal","setShowAssignModal","showViewModal","setShowViewModal","overlayRef","assignModalRef","viewModalRef","handleAssign","newMentees","filter","student","mentoredBy","handleView","toString","handleSelection","mid","sid","includes","newGroup","id","handleAssignMentees","handleRemoveMentees","console","log","length","map","mentor","_id"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nimport {\n    adminAssignMentees,\n    adminGetMentorMentee,\n    adminRemoveMentees,\n    adminSaveGroup,\n} from \"../../../../../actions/admin\";\n\nimport MentorTile from \"./MentorTile\";\nimport SearchIcon from \"../../../../../assets/icons/SearchIcon\";\nimport AcademicCapIcon from \"../../../../../assets/icons/AcademicCapIcon\";\nimport MentorIcon from \"../../../../../assets/icons/MentorIcon\";\nimport { CSSTransition } from \"react-transition-group\";\nimport ModalOverlay from \"../../../../modal/ModalOverlay\";\nimport AssignModal from \"./manageGroupModals/AssignModal\";\nimport ViewModal from \"./manageGroupModals/ViewModal\";\n\nconst ManageGroups = () => {\n    const dispatch = useDispatch();\n\n    // accessing global state for fetching the list of mentors and mentees\n    const {\n        mentorMenteeDetails: { mentors, students },\n    } = useSelector((state) => state.admin);\n\n    // fetching mentor mentee details\n    useEffect(() => {\n        dispatch(adminGetMentorMentee());\n    }, [dispatch]);\n\n    // state variable to save the group state and send to the backend\n    const [group, setGroup] = useState({\n        mentorId: \"\",\n        studentIds: [],\n    });\n\n    // state variables\n    const [assignMentees, setAssignMentees] = useState([]);\n    const [viewMentees, setViewMentees] = useState([]);\n    const [selectedMentor, setSelectedMentor] = useState(undefined);\n\n    // states for modals\n    const [showOverlay, setShowOverlay] = useState(false);\n    const [showAssignModal, setShowAssignModal] = useState(false);\n    const [showViewModal, setShowViewModal] = useState(false);\n\n    // noderefs for modal\n    const overlayRef = useRef(null);\n    const assignModalRef = useRef(null);\n    const viewModalRef = useRef(null);\n\n    // function to handle assign\n    const handleAssign = () => {\n        let newMentees = [];\n        newMentees = students.filter(\n            (student) => student.mentoredBy === \"\" || student.mentoredBy === undefined\n        );\n        setAssignMentees(newMentees);\n        setShowOverlay(true);\n        setShowAssignModal(true);\n    };\n\n    // function to handle view\n    const handleView = (mentorId) => {\n        let newMentees = [];\n        newMentees = students.filter(\n            (student) =>\n                student.mentoredBy !== undefined &&\n                student.mentoredBy.toString() === mentorId.toString()\n        );\n        setViewMentees(newMentees);\n        setShowOverlay(true);\n        setShowViewModal(true);\n    };\n\n    // function to handle assign selection\n    const handleSelection = (mid, sid) => {\n        if (group.studentIds.includes(sid)) {\n            let newGroup = group.studentIds.filter((id) => id !== sid.toString());\n            setGroup({\n                mentorId: mid,\n                studentIds: newGroup,\n            });\n        } else {\n            setGroup({\n                mentorId: mid,\n                studentIds: [...group.studentIds, sid],\n            });\n        }\n    };\n\n    // function to handle save group\n    const handleAssignMentees = () => {\n        dispatch(adminAssignMentees(group));\n        setShowOverlay(false);\n        setShowAssignModal(false);\n        setGroup({\n            mentorId: \"\",\n            studentIds: [],\n        });\n    };\n\n    // function to handle save group\n    const handleRemoveMentees = () => {\n        dispatch(adminRemoveMentees(group));\n        setShowOverlay(false);\n        setShowViewModal(false);\n        setGroup({\n            mentorId: \"\",\n            studentIds: [],\n        });\n    };\n\n    console.log(\"mentors in manage group\", mentors);\n    console.log(\"mentees in manage group\", students);\n    console.log(\"group in manage group\", group);\n\n    return (\n        <div className=\"h-full w-full px-5 py-5 relative\">\n            <CSSTransition\n                nodeRef={overlayRef}\n                in={showOverlay}\n                timeout={300}\n                classNames=\"overlay\"\n                unmountOnExit\n            >\n                <ModalOverlay nodeRef={overlayRef} />\n            </CSSTransition>\n            <CSSTransition\n                nodeRef={assignModalRef}\n                in={showAssignModal}\n                timeout={300}\n                classNames=\"modal\"\n                unmountOnExit\n            >\n                <AssignModal\n                    nodeRef={assignModalRef}\n                    assignMentees={assignMentees}\n                    setShowOverlay={setShowOverlay}\n                    setShowAssignModal={setShowAssignModal}\n                    selectedMentor={selectedMentor}\n                    group={group}\n                    handleSelection={handleSelection}\n                    setGroup={setGroup}\n                    handleAssignMentees={handleAssignMentees}\n                />\n            </CSSTransition>\n            <CSSTransition\n                nodeRef={viewModalRef}\n                in={showViewModal}\n                timeout={300}\n                classNames=\"modal\"\n                unmountOnExit\n            >\n                <ViewModal\n                    nodeRef={viewModalRef}\n                    viewMentees={viewMentees}\n                    setShowOverlay={setShowOverlay}\n                    setShowViewModal={setShowViewModal}\n                    selectedMentor={selectedMentor}\n                    group={group}\n                    handleSelection={handleSelection}\n                    setGroup={setGroup}\n                    handleRemoveMentees={handleRemoveMentees}\n                />\n            </CSSTransition>\n            <div className=\"w-full p-3 rounded-md h-full\">\n                <div className=\"w-full mb-10 flex items-end justify-between\">\n                    <div className=\"flex items-end justify-start gap-x-4\">\n                        <h5 className=\"flex justify-start items-center p-5 bg-white shadow-sm rounded-md gap-x-4\">\n                            <div className=\"rounded-full p-3 bg-blue-100\">\n                                <MentorIcon alt={true} myStyle={\"h-5 w-5 text-blue-600\"} />\n                            </div>\n                            <div className=\"flex flex-col\">\n                                <h3>{mentors?.length}</h3>\n                                <h5 className=\"text-gray-500\">Total Mentors</h5>\n                            </div>\n                        </h5>\n                        <h5 className=\"flex justify-start items-center p-5 bg-white shadow-sm rounded-md gap-x-4\">\n                            <div className=\"rounded-full p-3 bg-orange-100\">\n                                <AcademicCapIcon alt={true} myStyle={\"text-orange-500 w-5 h-5\"} />\n                            </div>\n                            <div className=\"flex flex-col\">\n                                <h3>{students?.length}</h3>\n                                <h5 className=\"text-gray-500\">Total Mentees</h5>\n                            </div>\n                        </h5>\n                    </div>\n                    <div className=\"flex justify-end items-end\">\n                        <div className=\"relative\">\n                            <input\n                                //onChange={handleSearch}\n                                type=\"text\"\n                                className=\"pl-11 rounded-md xl:w-96 border-0 shadow-sm\"\n                                placeholder=\"Search by department...\"\n                            />\n                            <div className=\"absolute top-2.5 left-3\">\n                                <SearchIcon alt={true} myStyle={\"h-5 w-5 mr-2\"} />\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div className=\"h-4/5 overflow-y-auto pr-2 flex flex-wrap items-start justify-start gap-x-5 gap-y-3\">\n                    {mentors?.map((mentor) => {\n                        return (\n                            <MentorTile\n                                key={mentor._id}\n                                mentor={mentor}\n                                handleAssign={handleAssign}\n                                handleView={handleView}\n                                setSelectedMentor={setSelectedMentor}\n                            />\n                        );\n                    })}\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default ManageGroups;\n"]},"metadata":{},"sourceType":"module"}