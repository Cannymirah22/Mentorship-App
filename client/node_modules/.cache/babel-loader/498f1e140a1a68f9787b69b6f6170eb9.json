{"ast":null,"code":"import { toast } from \"react-toastify\";\nimport * as api from \"../api/interactions\";\nimport { showToast } from \"../components/toast/toast\";\nexport const getInteractions = (history, setData) => async dispatch => {\n  try {\n    const {\n      data\n    } = await api.getInteractions();\n    console.log(\"interactions in actions\", data); //check if the response data is error\n\n    if (data.code === 200) {\n      const date = new Date();\n      let newPostsArr = [];\n      let newMeetingsArr = [];\n\n      for (let i = 0; i < date.getDate(); ++i) {\n        newPostsArr.push(data.data.posts[i]);\n        newMeetingsArr.push(data.data.meetings[i]);\n      }\n\n      setData({\n        labels: data.data.labels,\n        posts: newPostsArr,\n        meetings: newMeetingsArr,\n        maxVal: Math.max(...newPostsArr.concat(newMeetingsArr)) + 1\n      });\n    } else {\n      showToast(\"error\", data.msg, 10000, toast.POSITION.BOTTOM_LEFT);\n    }\n  } catch (error) {\n    console.log(error);\n  }\n};","map":{"version":3,"sources":["C:/Users/sweet/Desktop/STEPuHP App Dev opp/client/src/actions/interactions.js"],"names":["toast","api","showToast","getInteractions","history","setData","dispatch","data","console","log","code","date","Date","newPostsArr","newMeetingsArr","i","getDate","push","posts","meetings","labels","maxVal","Math","max","concat","msg","POSITION","BOTTOM_LEFT","error"],"mappings":"AAAA,SAASA,KAAT,QAAsB,gBAAtB;AACA,OAAO,KAAKC,GAAZ,MAAqB,qBAArB;AACA,SAASC,SAAT,QAA0B,2BAA1B;AAEA,OAAO,MAAMC,eAAe,GAAG,CAACC,OAAD,EAAUC,OAAV,KAAsB,MAAOC,QAAP,IAAoB;AACrE,MAAI;AACA,UAAM;AAAEC,MAAAA;AAAF,QAAW,MAAMN,GAAG,CAACE,eAAJ,EAAvB;AACAK,IAAAA,OAAO,CAACC,GAAR,CAAY,yBAAZ,EAAuCF,IAAvC,EAFA,CAIA;;AACA,QAAIA,IAAI,CAACG,IAAL,KAAc,GAAlB,EAAuB;AACnB,YAAMC,IAAI,GAAG,IAAIC,IAAJ,EAAb;AACA,UAAIC,WAAW,GAAG,EAAlB;AACA,UAAIC,cAAc,GAAG,EAArB;;AAEA,WAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGJ,IAAI,CAACK,OAAL,EAApB,EAAoC,EAAED,CAAtC,EAAyC;AACrCF,QAAAA,WAAW,CAACI,IAAZ,CAAiBV,IAAI,CAACA,IAAL,CAAUW,KAAV,CAAgBH,CAAhB,CAAjB;AACAD,QAAAA,cAAc,CAACG,IAAf,CAAoBV,IAAI,CAACA,IAAL,CAAUY,QAAV,CAAmBJ,CAAnB,CAApB;AACH;;AAEDV,MAAAA,OAAO,CAAC;AACJe,QAAAA,MAAM,EAAEb,IAAI,CAACA,IAAL,CAAUa,MADd;AAEJF,QAAAA,KAAK,EAAEL,WAFH;AAGJM,QAAAA,QAAQ,EAAEL,cAHN;AAIJO,QAAAA,MAAM,EAAEC,IAAI,CAACC,GAAL,CAAS,GAAGV,WAAW,CAACW,MAAZ,CAAmBV,cAAnB,CAAZ,IAAkD;AAJtD,OAAD,CAAP;AAMH,KAhBD,MAgBO;AACHZ,MAAAA,SAAS,CAAC,OAAD,EAAUK,IAAI,CAACkB,GAAf,EAAoB,KAApB,EAA2BzB,KAAK,CAAC0B,QAAN,CAAeC,WAA1C,CAAT;AACH;AACJ,GAxBD,CAwBE,OAAOC,KAAP,EAAc;AACZpB,IAAAA,OAAO,CAACC,GAAR,CAAYmB,KAAZ;AACH;AACJ,CA5BM","sourcesContent":["import { toast } from \"react-toastify\";\nimport * as api from \"../api/interactions\";\nimport { showToast } from \"../components/toast/toast\";\n\nexport const getInteractions = (history, setData) => async (dispatch) => {\n    try {\n        const { data } = await api.getInteractions();\n        console.log(\"interactions in actions\", data);\n\n        //check if the response data is error\n        if (data.code === 200) {\n            const date = new Date();\n            let newPostsArr = [];\n            let newMeetingsArr = [];\n\n            for (let i = 0; i < date.getDate(); ++i) {\n                newPostsArr.push(data.data.posts[i]);\n                newMeetingsArr.push(data.data.meetings[i]);\n            }\n\n            setData({\n                labels: data.data.labels,\n                posts: newPostsArr,\n                meetings: newMeetingsArr,\n                maxVal: Math.max(...newPostsArr.concat(newMeetingsArr)) + 1,\n            });\n        } else {\n            showToast(\"error\", data.msg, 10000, toast.POSITION.BOTTOM_LEFT);\n        }\n    } catch (error) {\n        console.log(error);\n    }\n};\n"]},"metadata":{},"sourceType":"module"}